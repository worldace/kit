var M,f,Z,x,tt,q,pt,T={},et=[],dt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(t,e){for(var n in e)t[n]=e[n];return t}function nt(t){var e=t.parentNode;e&&e.removeChild(t)}function _t(t,e,n){var o,i,_,u={};for(_ in e)_=="key"?o=e[_]:_=="ref"?i=e[_]:u[_]=e[_];if(arguments.length>2&&(u.children=arguments.length>3?M.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)u[_]===void 0&&(u[_]=t.defaultProps[_]);return P(t,u,o,i,null)}function P(t,e,n,o,i){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Z};return f.vnode!=null&&f.vnode(_),_}function $(t){return t.children}function A(t,e){this.props=t,this.context=e}function C(t,e){if(e==null)return t.__?C(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?C(t):null}function ot(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ot(t)}}function O(t){(!t.__d&&(t.__d=!0)&&x.push(t)&&!R.__r++||q!==f.debounceRendering)&&((q=f.debounceRendering)||tt)(R)}function R(){for(var t;R.__r=x.length;)t=x.sort(function(e,n){return e.__v.__b-n.__v.__b}),x=[],t.some(function(e){var n,o,i,_,u,a;e.__d&&(u=(_=(n=e).__v).__e,(a=n.__P)&&(o=[],(i=k({},_)).__v=_.__v+1,W(a,_,i,n.__n,a.ownerSVGElement!==void 0,_.__h!=null?[u]:null,o,u??C(_),_.__h),lt(o,_),_.__e!=u&&ot(_)))})}function rt(t,e,n,o,i,_,u,a,s,p){var r,v,c,l,h,b,y,m=o&&o.__k||et,g=m.length;for(n.__k=[],r=0;r<e.length;r++)if((l=n.__k[r]=(l=e[r])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?P(null,l,null,null,l):Array.isArray(l)?P($,{children:l},null,null,null):l.__b>0?P(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(c=m[r])===null||c&&l.key==c.key&&l.type===c.type)m[r]=void 0;else for(v=0;v<g;v++){if((c=m[v])&&l.key==c.key&&l.type===c.type){m[v]=void 0;break}c=null}W(t,l,c=c||T,i,_,u,a,s,p),h=l.__e,(v=l.ref)&&c.ref!=v&&(y||(y=[]),c.ref&&y.push(c.ref,null,l),y.push(v,l.__c||h,l)),h!=null?(b==null&&(b=h),typeof l.type=="function"&&l.__k!=null&&l.__k===c.__k?l.__d=s=it(l,s,t):s=ut(t,l,c,m,h,s),p||n.type!=="option"?typeof n.type=="function"&&(n.__d=s):t.value=""):s&&c.__e==s&&s.parentNode!=t&&(s=C(c))}for(n.__e=b,r=g;r--;)m[r]!=null&&(typeof n.type=="function"&&m[r].__e!=null&&m[r].__e==n.__d&&(n.__d=C(o,r+1)),st(m[r],m[r]));if(y)for(r=0;r<y.length;r++)ct(y[r],y[++r],y[++r])}function it(t,e,n){var o,i;for(o=0;o<t.__k.length;o++)(i=t.__k[o])&&(i.__=t,e=typeof i.type=="function"?it(i,e,n):ut(n,i,i,t.__k,i.__e,e));return e}function ut(t,e,n,o,i,_){var u,a,s;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(n==null||i!=_||i.parentNode==null)t:if(_==null||_.parentNode!==t)t.appendChild(i),u=null;else{for(a=_,s=0;(a=a.nextSibling)&&s<o.length;s+=2)if(a==i)break t;t.insertBefore(i,_),u=_}return u!==void 0?u:i.nextSibling}function j(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||dt.test(e)?n:n+"px"}function E(t,e,n,o,i){var _;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||j(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||j(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o||t.addEventListener(e,_?B:I,_):t.removeEventListener(e,_?B:I,_);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function I(t){this.l[t.type+!1](f.event?f.event(t):t)}function B(t){this.l[t.type+!0](f.event?f.event(t):t)}function W(t,e,n,o,i,_,u,a,s){var p,r,v,c,l,h,b,y,m,g,w,d=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,a=e.__e=n.__e,e.__h=null,_=[a]),(p=f.__b)&&p(e);try{t:if(typeof d=="function"){if(y=e.props,m=(p=d.contextType)&&o[p.__c],g=p?m?m.props.value:p.__:o,n.__c?b=(r=e.__c=n.__c).__=r.__E:("prototype"in d&&d.prototype.render?e.__c=r=new d(y,g):(e.__c=r=new A(y,g),r.constructor=d,r.render=vt),m&&m.sub(r),r.props=y,r.state||(r.state={}),r.context=g,r.__n=o,v=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),d.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=k({},r.__s)),k(r.__s,d.getDerivedStateFromProps(y,r.__s))),c=r.props,l=r.state,v)d.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(d.getDerivedStateFromProps==null&&y!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(y,g),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(y,r.__s,g)===!1||e.__v===n.__v){r.props=y,r.state=r.__s,e.__v!==n.__v&&(r.__d=!1),r.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(H){H&&(H.__=e)}),r.__h.length&&u.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(y,r.__s,g),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,l,h)})}r.context=g,r.props=y,r.state=r.__s,(p=f.__r)&&p(e),r.__d=!1,r.__v=e,r.__P=t,p=r.render(r.props,r.state,r.context),r.state=r.__s,r.getChildContext!=null&&(o=k(k({},o),r.getChildContext())),v||r.getSnapshotBeforeUpdate==null||(h=r.getSnapshotBeforeUpdate(c,l)),w=p!=null&&p.type===$&&p.key==null?p.props.children:p,rt(t,Array.isArray(w)?w:[w],e,n,o,i,_,u,a,s),r.base=e.__e,e.__h=null,r.__h.length&&u.push(r),b&&(r.__E=r.__=null),r.__e=!1}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=yt(n.__e,e,n,o,i,_,u,s);(p=f.diffed)&&p(e)}catch(H){e.__v=null,(s||_!=null)&&(e.__e=a,e.__h=!!s,_[_.indexOf(a)]=null),f.__e(H,e,n)}}function lt(t,e){f.__c&&f.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){f.__e(o,n.__v)}})}function yt(t,e,n,o,i,_,u,a){var s,p,r,v=n.props,c=e.props,l=e.type,h=0;if(l==="svg"&&(i=!0),_!=null){for(;h<_.length;h++)if((s=_[h])&&(s===t||(l?s.localName==l:s.nodeType==3))){t=s,_[h]=null;break}}if(t==null){if(l===null)return document.createTextNode(c);t=i?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,c.is&&c),_=null,a=!1}if(l===null)v===c||a&&t.data===c||(t.data=c);else{if(_=_&&M.call(t.childNodes),p=(v=n.props||T).dangerouslySetInnerHTML,r=c.dangerouslySetInnerHTML,!a){if(_!=null)for(v={},h=0;h<t.attributes.length;h++)v[t.attributes[h].name]=t.attributes[h].value;(r||p)&&(r&&(p&&r.__html==p.__html||r.__html===t.innerHTML)||(t.innerHTML=r&&r.__html||""))}if(function(b,y,m,g,w){var d;for(d in m)d==="children"||d==="key"||d in y||E(b,d,null,m[d],g);for(d in y)w&&typeof y[d]!="function"||d==="children"||d==="key"||d==="value"||d==="checked"||m[d]===y[d]||E(b,d,y[d],m[d],g)}(t,c,v,i,a),r)e.__k=[];else if(h=e.props.children,rt(t,Array.isArray(h)?h:[h],e,n,o,i&&l!=="foreignObject",_,u,_?_[0]:n.__k&&C(n,0),a),_!=null)for(h=_.length;h--;)_[h]!=null&&nt(_[h]);a||("value"in c&&(h=c.value)!==void 0&&(h!==t.value||l==="progress"&&!h)&&E(t,"value",h,v.value,!1),"checked"in c&&(h=c.checked)!==void 0&&h!==t.checked&&E(t,"checked",h,v.checked,!1))}return t}function ct(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){f.__e(o,n)}}function st(t,e,n){var o,i;if(f.unmount&&f.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||ct(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){f.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&st(o[i],e,typeof t.type!="function");n||t.__e==null||nt(t.__e),t.__e=t.__d=void 0}function vt(t,e,n){return this.constructor(t,n)}function F(t,e,n){var o,i,_;f.__&&f.__(t,e),i=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],W(e,t=(!o&&n||e).__k=_t($,null,[t]),i||T,T,e.ownerSVGElement!==void 0,!o&&n?[n]:i?null:e.firstChild?M.call(e.childNodes):null,_,!o&&n?n:i?i.__e:e.firstChild,o),lt(_,t)}M=et.slice,f={__e:function(t,e){for(var n,o,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(_){t=_}throw t}},Z=0,A.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof t=="function"&&(t=t(k({},n),this.props)),t&&k(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),O(this))},A.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),O(this))},A.prototype.render=$,x=[],tt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,pt=0;var mt,S,V;var N=[],G=f.__b,z=f.__r,J=f.diffed,K=f.__c,Q=f.unmount;function gt(){N.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(D),t.__H.__h.forEach(U),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}),N=[]}f.__b=function(t){S=null,G&&G(t)},f.__r=function(t){z&&z(t),mt=0;var e=(S=t.__c).__H;e&&(e.__h.forEach(D),e.__h.forEach(U),e.__h=[])},f.diffed=function(t){J&&J(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(N.push(e)!==1&&V===f.requestAnimationFrame||((V=f.requestAnimationFrame)||function(n){var o,i=function(){clearTimeout(_),X&&cancelAnimationFrame(o),setTimeout(n)},_=setTimeout(i,100);X&&(o=requestAnimationFrame(i))})(gt)),S=void 0},f.__c=function(t,e){e.some(function(n){try{n.__h.forEach(D),n.__h=n.__h.filter(function(o){return!o.__||U(o)})}catch(o){e.some(function(i){i.__h&&(i.__h=[])}),e=[],f.__e(o,n.__v)}}),K&&K(t,e)},f.unmount=function(t){Q&&Q(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(D)}catch(n){f.__e(n,e.__v)}};var X=typeof requestAnimationFrame=="function";function D(t){var e=S;typeof t.__c=="function"&&t.__c(),S=e}function U(t){var e=S;t.__c=t.__(),S=e}var at=function(t,e,n,o){var i;e[0]=0;for(var _=1;_<e.length;_++){var u=e[_++],a=e[_]?(e[0]|=u?1:2,n[e[_++]]):e[++_];u===3?o[0]=a:u===4?o[1]=Object.assign(o[1]||{},a):u===5?(o[1]=o[1]||{})[e[++_]]=a:u===6?o[1][e[++_]]+=a+"":u?(i=t.apply(a,at(t,a,n,["",null])),o.push(i),a[0]?e[0]|=2:(e[_-2]=0,e[_]=i)):o.push(a)}return o},Y=new Map,L=function(t){var e=Y.get(this);return e||(e=new Map,Y.set(this,e)),(e=at(this,e.get(t)||(e.set(t,e=function(n){for(var o,i,_=1,u="",a="",s=[0],p=function(c){_===1&&(c||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,c,u):_===3&&(c||u)?(s.push(3,c,u),_=2):_===2&&u==="..."&&c?s.push(4,c,0):_===2&&u&&!c?s.push(5,0,!0,u):_>=5&&((u||!c&&_===5)&&(s.push(_,0,u,i),_=6),c&&(s.push(_,c,0,i),_=6)),u=""},r=0;r<n.length;r++){r&&(_===1&&p(),p(r));for(var v=0;v<n[r].length;v++)o=n[r][v],_===1?o==="<"?(p(),s=[s],_=3):u+=o:_===4?u==="--"&&o===">"?(_=1,u=""):u=o+u[0]:a?o===a?a="":u+=o:o==='"'||o==="'"?a=o:o===">"?(p(),_=1):_&&(o==="="?(_=5,i=u,u=""):o==="/"&&(_<5||n[r][v+1]===">")?(p(),_===3&&(s=s[0]),_=s,(s=s[0]).push(2,0,_),_=0):o===" "||o==="	"||o===`
`||o==="\r"?(p(),_=2):u+=o),_===3&&u==="!--"&&(_=4,s=s[0])}return p(),s}(t)),e),arguments,[])).length>1?e:e[0]}.bind(_t);var ft=new Map;function ht(t,...e){if(Array.isArray(t))return L(t,...e);if(t.shadowRoot){if(t.vdom){let n=t.html();t.css&&!document.adoptedStyleSheets&&(n=[n,L`<style>${t.css()}</style>`]),F(n,t.shadowRoot)}}else{t.attachShadow({mode:"open"}),t.$=new Proxy(function(){},{get:bt.bind(t),apply:kt.bind(t)});let n=Object.getOwnPropertyNames(t.constructor.prototype).filter(_=>typeof t[_]=="function"&&_!=="constructor");if(n.forEach(_=>t[_]=t[_].bind(t)),t.css&&document.adoptedStyleSheets){let _=ft.get(t.constructor);_||(_=new CSSStyleSheet,_.replaceSync(t.css()),ft.set(t.constructor,_)),t.shadowRoot.adoptedStyleSheets=[_]}let o=t.html();t.vdom=o.constructor===void 0||Array.isArray(o),t.vdom?(t.css&&!document.adoptedStyleSheets&&(o=[o,L`<style>${t.css()}</style>`]),F(o,t.shadowRoot)):typeof o=="string"?(t.css&&!document.adoptedStyleSheets&&(o+=`<style>${t.css()}</style>`),t.shadowRoot.innerHTML=o):o instanceof Node&&(t.css&&!document.adoptedStyleSheets&&(t.shadowRoot.innerHTML=`<style>${t.css()}</style>`),o.tagName==="TEMPLATE"&&(o=o.content.cloneNode(!0)),t.shadowRoot.append(o));let i={"":t.shadowRoot,Host:t,Window:window,Document:document,Body:document.body};for(let _ of n){let u=_.match(/^\$(.*?)_([^_]+)$/);if(u){let a=i[u[1]]??t.shadowRoot.querySelector(`#${u[1]}`);if(a)a.addEventListener(u[2],t[_]);else throw`kit.js\u30A4\u30D9\u30F3\u30C8\u767B\u9332\u30A8\u30E9\u30FC\uFF1A ${t.constructor.name}.${u[0]} \u306E\u767B\u9332\u5148\u304C\u5B58\u5728\u3057\u307E\u305B\u3093`}}}}function bt(t,e){return this.shadowRoot.querySelector(`#${e}`)}function kt(t,e,[n]){if(typeof n=="string")return n.startsWith("*")?Array.from(this.shadowRoot.querySelectorAll(n.substring(1)||"*")):this.shadowRoot.querySelector(n);typeof n=="object"&&(Object.assign(this,n),ht(this))}var Ct=ht;export{Ct as default};
