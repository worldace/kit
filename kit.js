var L,f,tt,H,et,q,ht,T={},nt=[],pt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(t,e){for(var n in e)t[n]=e[n];return t}function _t(t){var e=t.parentNode;e&&e.removeChild(t)}function ot(t,e,n){var o,i,_,u={};for(_ in e)_=="key"?o=e[_]:_=="ref"?i=e[_]:u[_]=e[_];if(arguments.length>2&&(u.children=arguments.length>3?L.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)u[_]===void 0&&(u[_]=t.defaultProps[_]);return D(t,u,o,i,null)}function D(t,e,n,o,i){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++tt};return f.vnode!=null&&f.vnode(_),_}function N(t){return t.children}function P(t,e){this.props=t,this.context=e}function C(t,e){if(e==null)return t.__?C(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?C(t):null}function rt(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return rt(t)}}function V(t){(!t.__d&&(t.__d=!0)&&H.push(t)&&!R.__r++||q!==f.debounceRendering)&&((q=f.debounceRendering)||et)(R)}function R(){for(var t;R.__r=H.length;)t=H.sort(function(e,n){return e.__v.__b-n.__v.__b}),H=[],t.some(function(e){var n,o,i,_,u,a;e.__d&&(u=(_=(n=e).__v).__e,(a=n.__P)&&(o=[],(i=k({},_)).__v=_.__v+1,F(a,_,i,n.__n,a.ownerSVGElement!==void 0,_.__h!=null?[u]:null,o,u??C(_),_.__h),ct(o,_),_.__e!=u&&rt(_)))})}function it(t,e,n,o,i,_,u,a,s,p){var r,v,c,l,h,b,y,m=o&&o.__k||nt,g=m.length;for(n.__k=[],r=0;r<e.length;r++)if((l=n.__k[r]=(l=e[r])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?D(null,l,null,null,l):Array.isArray(l)?D(N,{children:l},null,null,null):l.__b>0?D(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(c=m[r])===null||c&&l.key==c.key&&l.type===c.type)m[r]=void 0;else for(v=0;v<g;v++){if((c=m[v])&&l.key==c.key&&l.type===c.type){m[v]=void 0;break}c=null}F(t,l,c=c||T,i,_,u,a,s,p),h=l.__e,(v=l.ref)&&c.ref!=v&&(y||(y=[]),c.ref&&y.push(c.ref,null,l),y.push(v,l.__c||h,l)),h!=null?(b==null&&(b=h),typeof l.type=="function"&&l.__k!=null&&l.__k===c.__k?l.__d=s=ut(l,s,t):s=lt(t,l,c,m,h,s),p||n.type!=="option"?typeof n.type=="function"&&(n.__d=s):t.value=""):s&&c.__e==s&&s.parentNode!=t&&(s=C(c))}for(n.__e=b,r=g;r--;)m[r]!=null&&(typeof n.type=="function"&&m[r].__e!=null&&m[r].__e==n.__d&&(n.__d=C(o,r+1)),at(m[r],m[r]));if(y)for(r=0;r<y.length;r++)st(y[r],y[++r],y[++r])}function ut(t,e,n){var o,i;for(o=0;o<t.__k.length;o++)(i=t.__k[o])&&(i.__=t,e=typeof i.type=="function"?ut(i,e,n):lt(n,i,i,t.__k,i.__e,e));return e}function lt(t,e,n,o,i,_){var u,a,s;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(n==null||i!=_||i.parentNode==null)t:if(_==null||_.parentNode!==t)t.appendChild(i),u=null;else{for(a=_,s=0;(a=a.nextSibling)&&s<o.length;s+=2)if(a==i)break t;t.insertBefore(i,_),u=_}return u!==void 0?u:i.nextSibling}function j(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||pt.test(e)?n:n+"px"}function A(t,e,n,o,i){var _;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||j(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||j(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o||t.addEventListener(e,_?B:I,_):t.removeEventListener(e,_?B:I,_);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function I(t){this.l[t.type+!1](f.event?f.event(t):t)}function B(t){this.l[t.type+!0](f.event?f.event(t):t)}function F(t,e,n,o,i,_,u,a,s){var p,r,v,c,l,h,b,y,m,g,w,d=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,a=e.__e=n.__e,e.__h=null,_=[a]),(p=f.__b)&&p(e);try{t:if(typeof d=="function"){if(y=e.props,m=(p=d.contextType)&&o[p.__c],g=p?m?m.props.value:p.__:o,n.__c?b=(r=e.__c=n.__c).__=r.__E:("prototype"in d&&d.prototype.render?e.__c=r=new d(y,g):(e.__c=r=new P(y,g),r.constructor=d,r.render=yt),m&&m.sub(r),r.props=y,r.state||(r.state={}),r.context=g,r.__n=o,v=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),d.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=k({},r.__s)),k(r.__s,d.getDerivedStateFromProps(y,r.__s))),c=r.props,l=r.state,v)d.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(d.getDerivedStateFromProps==null&&y!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(y,g),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(y,r.__s,g)===!1||e.__v===n.__v){r.props=y,r.state=r.__s,e.__v!==n.__v&&(r.__d=!1),r.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(E){E&&(E.__=e)}),r.__h.length&&u.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(y,r.__s,g),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,l,h)})}r.context=g,r.props=y,r.state=r.__s,(p=f.__r)&&p(e),r.__d=!1,r.__v=e,r.__P=t,p=r.render(r.props,r.state,r.context),r.state=r.__s,r.getChildContext!=null&&(o=k(k({},o),r.getChildContext())),v||r.getSnapshotBeforeUpdate==null||(h=r.getSnapshotBeforeUpdate(c,l)),w=p!=null&&p.type===N&&p.key==null?p.props.children:p,it(t,Array.isArray(w)?w:[w],e,n,o,i,_,u,a,s),r.base=e.__e,e.__h=null,r.__h.length&&u.push(r),b&&(r.__E=r.__=null),r.__e=!1}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=dt(n.__e,e,n,o,i,_,u,s);(p=f.diffed)&&p(e)}catch(E){e.__v=null,(s||_!=null)&&(e.__e=a,e.__h=!!s,_[_.indexOf(a)]=null),f.__e(E,e,n)}}function ct(t,e){f.__c&&f.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){f.__e(o,n.__v)}})}function dt(t,e,n,o,i,_,u,a){var s,p,r,v=n.props,c=e.props,l=e.type,h=0;if(l==="svg"&&(i=!0),_!=null){for(;h<_.length;h++)if((s=_[h])&&(s===t||(l?s.localName==l:s.nodeType==3))){t=s,_[h]=null;break}}if(t==null){if(l===null)return document.createTextNode(c);t=i?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,c.is&&c),_=null,a=!1}if(l===null)v===c||a&&t.data===c||(t.data=c);else{if(_=_&&L.call(t.childNodes),p=(v=n.props||T).dangerouslySetInnerHTML,r=c.dangerouslySetInnerHTML,!a){if(_!=null)for(v={},h=0;h<t.attributes.length;h++)v[t.attributes[h].name]=t.attributes[h].value;(r||p)&&(r&&(p&&r.__html==p.__html||r.__html===t.innerHTML)||(t.innerHTML=r&&r.__html||""))}if(function(b,y,m,g,w){var d;for(d in m)d==="children"||d==="key"||d in y||A(b,d,null,m[d],g);for(d in y)w&&typeof y[d]!="function"||d==="children"||d==="key"||d==="value"||d==="checked"||m[d]===y[d]||A(b,d,y[d],m[d],g)}(t,c,v,i,a),r)e.__k=[];else if(h=e.props.children,it(t,Array.isArray(h)?h:[h],e,n,o,i&&l!=="foreignObject",_,u,_?_[0]:n.__k&&C(n,0),a),_!=null)for(h=_.length;h--;)_[h]!=null&&_t(_[h]);a||("value"in c&&(h=c.value)!==void 0&&(h!==t.value||l==="progress"&&!h)&&A(t,"value",h,v.value,!1),"checked"in c&&(h=c.checked)!==void 0&&h!==t.checked&&A(t,"checked",h,v.checked,!1))}return t}function st(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){f.__e(o,n)}}function at(t,e,n){var o,i;if(f.unmount&&f.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||st(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){f.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&at(o[i],e,typeof t.type!="function");n||t.__e==null||_t(t.__e),t.__e=t.__d=void 0}function yt(t,e,n){return this.constructor(t,n)}function O(t,e,n){var o,i,_;f.__&&f.__(t,e),i=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],F(e,t=(!o&&n||e).__k=ot(N,null,[t]),i||T,T,e.ownerSVGElement!==void 0,!o&&n?[n]:i?null:e.firstChild?L.call(e.childNodes):null,_,!o&&n?n:i?i.__e:e.firstChild,o),ct(_,t)}L=nt.slice,f={__e:function(t,e){for(var n,o,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(_){t=_}throw t}},tt=0,P.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof t=="function"&&(t=t(k({},n),this.props)),t&&k(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),V(this))},P.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),V(this))},P.prototype.render=N,H=[],et=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,ht=0;var vt,S,G;var U=[],z=f.__b,J=f.__r,K=f.diffed,Q=f.__c,X=f.unmount;function mt(){U.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(M),t.__H.__h.forEach(W),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}),U=[]}f.__b=function(t){S=null,z&&z(t)},f.__r=function(t){J&&J(t),vt=0;var e=(S=t.__c).__H;e&&(e.__h.forEach(M),e.__h.forEach(W),e.__h=[])},f.diffed=function(t){K&&K(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(U.push(e)!==1&&G===f.requestAnimationFrame||((G=f.requestAnimationFrame)||function(n){var o,i=function(){clearTimeout(_),Y&&cancelAnimationFrame(o),setTimeout(n)},_=setTimeout(i,100);Y&&(o=requestAnimationFrame(i))})(mt)),S=void 0},f.__c=function(t,e){e.some(function(n){try{n.__h.forEach(M),n.__h=n.__h.filter(function(o){return!o.__||W(o)})}catch(o){e.some(function(i){i.__h&&(i.__h=[])}),e=[],f.__e(o,n.__v)}}),Q&&Q(t,e)},f.unmount=function(t){X&&X(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(M)}catch(n){f.__e(n,e.__v)}};var Y=typeof requestAnimationFrame=="function";function M(t){var e=S;typeof t.__c=="function"&&t.__c(),S=e}function W(t){var e=S;t.__c=t.__(),S=e}var ft=function(t,e,n,o){var i;e[0]=0;for(var _=1;_<e.length;_++){var u=e[_++],a=e[_]?(e[0]|=u?1:2,n[e[_++]]):e[++_];u===3?o[0]=a:u===4?o[1]=Object.assign(o[1]||{},a):u===5?(o[1]=o[1]||{})[e[++_]]=a:u===6?o[1][e[++_]]+=a+"":u?(i=t.apply(a,ft(t,a,n,["",null])),o.push(i),a[0]?e[0]|=2:(e[_-2]=0,e[_]=i)):o.push(a)}return o},Z=new Map,$=function(t){var e=Z.get(this);return e||(e=new Map,Z.set(this,e)),(e=ft(this,e.get(t)||(e.set(t,e=function(n){for(var o,i,_=1,u="",a="",s=[0],p=function(c){_===1&&(c||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,c,u):_===3&&(c||u)?(s.push(3,c,u),_=2):_===2&&u==="..."&&c?s.push(4,c,0):_===2&&u&&!c?s.push(5,0,!0,u):_>=5&&((u||!c&&_===5)&&(s.push(_,0,u,i),_=6),c&&(s.push(_,c,0,i),_=6)),u=""},r=0;r<n.length;r++){r&&(_===1&&p(),p(r));for(var v=0;v<n[r].length;v++)o=n[r][v],_===1?o==="<"?(p(),s=[s],_=3):u+=o:_===4?u==="--"&&o===">"?(_=1,u=""):u=o+u[0]:a?o===a?a="":u+=o:o==='"'||o==="'"?a=o:o===">"?(p(),_=1):_&&(o==="="?(_=5,i=u,u=""):o==="/"&&(_<5||n[r][v+1]===">")?(p(),_===3&&(s=s[0]),_=s,(s=s[0]).push(2,0,_),_=0):o===" "||o==="	"||o===`
`||o==="\r"?(p(),_=2):u+=o),_===3&&u==="!--"&&(_=4,s=s[0])}return p(),s}(t)),e),arguments,[])).length>1?e:e[0]}.bind(ot);function x(t,...e){if(Array.isArray(t))return $(t,...e);if(t.shadowRoot){if(t.isVDOM){let n=t.html();t.css&&!document.adoptedStyleSheets&&(n=[n,$`<style>${t.css()}</style>`]),O(n,t.shadowRoot)}}else{t.attachShadow({mode:"open"}),t.$=new Proxy(function(){},{get:gt.bind(t),apply:bt.bind(t)});let n=Object.getOwnPropertyNames(t.constructor.prototype).filter(_=>typeof t[_]=="function"&&_!=="constructor");if(n.forEach(_=>t[_]=t[_].bind(t)),t.css&&document.adoptedStyleSheets){let _=x.StyleSheets.get(t.constructor);_||(_=new CSSStyleSheet,_.replaceSync(t.css()),x.StyleSheets.set(t.constructor,_)),t.shadowRoot.adoptedStyleSheets=[_]}let o=t.html();t.isVDOM=o.constructor===void 0||Array.isArray(o),t.isVDOM?(t.css&&!document.adoptedStyleSheets&&(o=[o,$`<style>${t.css()}</style>`]),O(o,t.shadowRoot)):typeof o=="string"?(t.css&&!document.adoptedStyleSheets&&(o+=`<style>${t.css()}</style>`),t.shadowRoot.innerHTML=o):o instanceof Node&&(t.css&&!document.adoptedStyleSheets&&(t.shadowRoot.innerHTML=`<style>${t.css()}</style>`),o.tagName==="TEMPLATE"&&(o=o.content.cloneNode(!0)),t.shadowRoot.append(o));let i={"":t.shadowRoot,Host:t,Window:window,Document:document,Body:document.body};for(let _ of n){let u=_.match(/^\$(.*?)_([^_]+)$/);if(u){let a=i[u[1]]??t.shadowRoot.querySelector(`#${u[1]}`);if(a)a.addEventListener(u[2],t[_]);else throw`kit.js\u30A4\u30D9\u30F3\u30C8\u767B\u9332\u30A8\u30E9\u30FC\uFF1A ${t.constructor.name}.${u[0]} \u306E\u767B\u9332\u5148\u304C\u5B58\u5728\u3057\u307E\u305B\u3093`}}}}function gt(t,e){return this.shadowRoot.querySelector(`#${e}`)}function bt(t,e,[n,...o]){if(typeof n=="string")return n.startsWith("*")?Array.from(this.shadowRoot.querySelectorAll(n.substring(1)||"*")):this.shadowRoot.querySelector(n);if(Array.isArray(n)){let i=document.createElement("template");return i.innerHTML=n.reduce((_,u,a)=>_+o[a-1]+u).trim(),i.content.childNodes.length===1?i.content.firstChild:i.content}else typeof n=="object"&&(Object.assign(this,n),x(this))}x.StyleSheets=new Map;var wt=x;export{wt as default};
