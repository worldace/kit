var M,f,tt,E,et,O,pt,T={},nt=[],dt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(t,e){for(var n in e)t[n]=e[n];return t}function ot(t){var e=t.parentNode;e&&e.removeChild(t)}function _t(t,e,n){var _,i,o,u={};for(o in e)o=="key"?_=e[o]:o=="ref"?i=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?M.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)u[o]===void 0&&(u[o]=t.defaultProps[o]);return P(t,u,_,i,null)}function P(t,e,n,_,i){var o={type:t,props:e,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++tt};return f.vnode!=null&&f.vnode(o),o}function N(t){return t.children}function A(t,e){this.props=t,this.context=e}function C(t,e){if(e==null)return t.__?C(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?C(t):null}function rt(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return rt(t)}}function j(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!R.__r++||O!==f.debounceRendering)&&((O=f.debounceRendering)||et)(R)}function R(){for(var t;R.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,_,i,o,u,a;e.__d&&(u=(o=(n=e).__v).__e,(a=n.__P)&&(_=[],(i=k({},o)).__v=o.__v+1,W(a,o,i,n.__n,a.ownerSVGElement!==void 0,o.__h!=null?[u]:null,_,u??C(o),o.__h),ct(_,o),o.__e!=u&&rt(o)))})}function it(t,e,n,_,i,o,u,a,s,p){var r,m,c,l,h,b,y,v=_&&_.__k||nt,g=v.length;for(n.__k=[],r=0;r<e.length;r++)if((l=n.__k[r]=(l=e[r])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?P(null,l,null,null,l):Array.isArray(l)?P(N,{children:l},null,null,null):l.__b>0?P(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(c=v[r])===null||c&&l.key==c.key&&l.type===c.type)v[r]=void 0;else for(m=0;m<g;m++){if((c=v[m])&&l.key==c.key&&l.type===c.type){v[m]=void 0;break}c=null}W(t,l,c=c||T,i,o,u,a,s,p),h=l.__e,(m=l.ref)&&c.ref!=m&&(y||(y=[]),c.ref&&y.push(c.ref,null,l),y.push(m,l.__c||h,l)),h!=null?(b==null&&(b=h),typeof l.type=="function"&&l.__k!=null&&l.__k===c.__k?l.__d=s=ut(l,s,t):s=lt(t,l,c,v,h,s),p||n.type!=="option"?typeof n.type=="function"&&(n.__d=s):t.value=""):s&&c.__e==s&&s.parentNode!=t&&(s=C(c))}for(n.__e=b,r=g;r--;)v[r]!=null&&(typeof n.type=="function"&&v[r].__e!=null&&v[r].__e==n.__d&&(n.__d=C(_,r+1)),at(v[r],v[r]));if(y)for(r=0;r<y.length;r++)st(y[r],y[++r],y[++r])}function ut(t,e,n){var _,i;for(_=0;_<t.__k.length;_++)(i=t.__k[_])&&(i.__=t,e=typeof i.type=="function"?ut(i,e,n):lt(n,i,i,t.__k,i.__e,e));return e}function lt(t,e,n,_,i,o){var u,a,s;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)t:if(o==null||o.parentNode!==t)t.appendChild(i),u=null;else{for(a=o,s=0;(a=a.nextSibling)&&s<_.length;s+=2)if(a==i)break t;t.insertBefore(i,o),u=o}return u!==void 0?u:i.nextSibling}function I(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||dt.test(e)?n:n+"px"}function H(t,e,n,_,i){var o;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof _=="string"&&(t.style.cssText=_=""),_)for(e in _)n&&e in n||I(t.style,e,"");if(n)for(e in n)_&&n[e]===_[e]||I(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?_||t.addEventListener(e,o?V:B,o):t.removeEventListener(e,o?V:B,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function B(t){this.l[t.type+!1](f.event?f.event(t):t)}function V(t){this.l[t.type+!0](f.event?f.event(t):t)}function W(t,e,n,_,i,o,u,a,s){var p,r,m,c,l,h,b,y,v,g,w,d=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,a=e.__e=n.__e,e.__h=null,o=[a]),(p=f.__b)&&p(e);try{t:if(typeof d=="function"){if(y=e.props,v=(p=d.contextType)&&_[p.__c],g=p?v?v.props.value:p.__:_,n.__c?b=(r=e.__c=n.__c).__=r.__E:("prototype"in d&&d.prototype.render?e.__c=r=new d(y,g):(e.__c=r=new A(y,g),r.constructor=d,r.render=mt),v&&v.sub(r),r.props=y,r.state||(r.state={}),r.context=g,r.__n=_,m=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),d.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=k({},r.__s)),k(r.__s,d.getDerivedStateFromProps(y,r.__s))),c=r.props,l=r.state,m)d.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(d.getDerivedStateFromProps==null&&y!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(y,g),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(y,r.__s,g)===!1||e.__v===n.__v){r.props=y,r.state=r.__s,e.__v!==n.__v&&(r.__d=!1),r.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(x){x&&(x.__=e)}),r.__h.length&&u.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(y,r.__s,g),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,l,h)})}r.context=g,r.props=y,r.state=r.__s,(p=f.__r)&&p(e),r.__d=!1,r.__v=e,r.__P=t,p=r.render(r.props,r.state,r.context),r.state=r.__s,r.getChildContext!=null&&(_=k(k({},_),r.getChildContext())),m||r.getSnapshotBeforeUpdate==null||(h=r.getSnapshotBeforeUpdate(c,l)),w=p!=null&&p.type===N&&p.key==null?p.props.children:p,it(t,Array.isArray(w)?w:[w],e,n,_,i,o,u,a,s),r.base=e.__e,e.__h=null,r.__h.length&&u.push(r),b&&(r.__E=r.__=null),r.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=yt(n.__e,e,n,_,i,o,u,s);(p=f.diffed)&&p(e)}catch(x){e.__v=null,(s||o!=null)&&(e.__e=a,e.__h=!!s,o[o.indexOf(a)]=null),f.__e(x,e,n)}}function ct(t,e){f.__c&&f.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(_){_.call(n)})}catch(_){f.__e(_,n.__v)}})}function yt(t,e,n,_,i,o,u,a){var s,p,r,m=n.props,c=e.props,l=e.type,h=0;if(l==="svg"&&(i=!0),o!=null){for(;h<o.length;h++)if((s=o[h])&&(s===t||(l?s.localName==l:s.nodeType==3))){t=s,o[h]=null;break}}if(t==null){if(l===null)return document.createTextNode(c);t=i?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,c.is&&c),o=null,a=!1}if(l===null)m===c||a&&t.data===c||(t.data=c);else{if(o=o&&M.call(t.childNodes),p=(m=n.props||T).dangerouslySetInnerHTML,r=c.dangerouslySetInnerHTML,!a){if(o!=null)for(m={},h=0;h<t.attributes.length;h++)m[t.attributes[h].name]=t.attributes[h].value;(r||p)&&(r&&(p&&r.__html==p.__html||r.__html===t.innerHTML)||(t.innerHTML=r&&r.__html||""))}if(function(b,y,v,g,w){var d;for(d in v)d==="children"||d==="key"||d in y||H(b,d,null,v[d],g);for(d in y)w&&typeof y[d]!="function"||d==="children"||d==="key"||d==="value"||d==="checked"||v[d]===y[d]||H(b,d,y[d],v[d],g)}(t,c,m,i,a),r)e.__k=[];else if(h=e.props.children,it(t,Array.isArray(h)?h:[h],e,n,_,i&&l!=="foreignObject",o,u,o?o[0]:n.__k&&C(n,0),a),o!=null)for(h=o.length;h--;)o[h]!=null&&ot(o[h]);a||("value"in c&&(h=c.value)!==void 0&&(h!==t.value||l==="progress"&&!h)&&H(t,"value",h,m.value,!1),"checked"in c&&(h=c.checked)!==void 0&&h!==t.checked&&H(t,"checked",h,m.checked,!1))}return t}function st(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(_){f.__e(_,n)}}function at(t,e,n){var _,i;if(f.unmount&&f.unmount(t),(_=t.ref)&&(_.current&&_.current!==t.__e||st(_,null,e)),(_=t.__c)!=null){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(o){f.__e(o,e)}_.base=_.__P=null}if(_=t.__k)for(i=0;i<_.length;i++)_[i]&&at(_[i],e,typeof t.type!="function");n||t.__e==null||ot(t.__e),t.__e=t.__d=void 0}function mt(t,e,n){return this.constructor(t,n)}function F(t,e,n){var _,i,o;f.__&&f.__(t,e),i=(_=typeof n=="function")?null:n&&n.__k||e.__k,o=[],W(e,t=(!_&&n||e).__k=_t(N,null,[t]),i||T,T,e.ownerSVGElement!==void 0,!_&&n?[n]:i?null:e.firstChild?M.call(e.childNodes):null,o,!_&&n?n:i?i.__e:e.firstChild,_),ct(o,t)}M=nt.slice,f={__e:function(t,e){for(var n,_,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((_=n.constructor)&&_.getDerivedStateFromError!=null&&(n.setState(_.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},tt=0,A.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof t=="function"&&(t=t(k({},n),this.props)),t&&k(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),j(this))},A.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),j(this))},A.prototype.render=N,E=[],et=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,pt=0;var vt,S,G;var L=[],z=f.__b,J=f.__r,K=f.diffed,Q=f.__c,X=f.unmount;function gt(){L.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(D),t.__H.__h.forEach(U),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}),L=[]}f.__b=function(t){S=null,z&&z(t)},f.__r=function(t){J&&J(t),vt=0;var e=(S=t.__c).__H;e&&(e.__h.forEach(D),e.__h.forEach(U),e.__h=[])},f.diffed=function(t){K&&K(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(L.push(e)!==1&&G===f.requestAnimationFrame||((G=f.requestAnimationFrame)||function(n){var _,i=function(){clearTimeout(o),Y&&cancelAnimationFrame(_),setTimeout(n)},o=setTimeout(i,100);Y&&(_=requestAnimationFrame(i))})(gt)),S=void 0},f.__c=function(t,e){e.some(function(n){try{n.__h.forEach(D),n.__h=n.__h.filter(function(_){return!_.__||U(_)})}catch(_){e.some(function(i){i.__h&&(i.__h=[])}),e=[],f.__e(_,n.__v)}}),Q&&Q(t,e)},f.unmount=function(t){X&&X(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(D)}catch(n){f.__e(n,e.__v)}};var Y=typeof requestAnimationFrame=="function";function D(t){var e=S;typeof t.__c=="function"&&t.__c(),S=e}function U(t){var e=S;t.__c=t.__(),S=e}var ft=function(t,e,n,_){var i;e[0]=0;for(var o=1;o<e.length;o++){var u=e[o++],a=e[o]?(e[0]|=u?1:2,n[e[o++]]):e[++o];u===3?_[0]=a:u===4?_[1]=Object.assign(_[1]||{},a):u===5?(_[1]=_[1]||{})[e[++o]]=a:u===6?_[1][e[++o]]+=a+"":u?(i=t.apply(a,ft(t,a,n,["",null])),_.push(i),a[0]?e[0]|=2:(e[o-2]=0,e[o]=i)):_.push(a)}return _},Z=new Map,$=function(t){var e=Z.get(this);return e||(e=new Map,Z.set(this,e)),(e=ft(this,e.get(t)||(e.set(t,e=function(n){for(var _,i,o=1,u="",a="",s=[0],p=function(c){o===1&&(c||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,c,u):o===3&&(c||u)?(s.push(3,c,u),o=2):o===2&&u==="..."&&c?s.push(4,c,0):o===2&&u&&!c?s.push(5,0,!0,u):o>=5&&((u||!c&&o===5)&&(s.push(o,0,u,i),o=6),c&&(s.push(o,c,0,i),o=6)),u=""},r=0;r<n.length;r++){r&&(o===1&&p(),p(r));for(var m=0;m<n[r].length;m++)_=n[r][m],o===1?_==="<"?(p(),s=[s],o=3):u+=_:o===4?u==="--"&&_===">"?(o=1,u=""):u=_+u[0]:a?_===a?a="":u+=_:_==='"'||_==="'"?a=_:_===">"?(p(),o=1):o&&(_==="="?(o=5,i=u,u=""):_==="/"&&(o<5||n[r][m+1]===">")?(p(),o===3&&(s=s[0]),o=s,(s=s[0]).push(2,0,o),o=0):_===" "||_==="	"||_===`
`||_==="\r"?(p(),o=2):u+=_),o===3&&u==="!--"&&(o=4,s=s[0])}return p(),s}(t)),e),arguments,[])).length>1?e:e[0]}.bind(_t);var ht=new Map;function q(t,...e){if(Array.isArray(t))return $(t,...e);if(t.shadowRoot){if(t.vdom){let n=t.html();t.css&&!document.adoptedStyleSheets&&(n=[n,$`<style>${t.css()}</style>`]),F(n,t.shadowRoot)}}else{t.attachShadow({mode:"open"}),t.$=new Proxy(function(){},{get:bt.bind(t),apply:kt.bind(t)});let n=Object.getOwnPropertyNames(t.constructor.prototype).filter(o=>typeof t[o]=="function"&&o!=="constructor");if(n.forEach(o=>t[o]=t[o].bind(t)),t.css&&document.adoptedStyleSheets){let o=ht.get(t.constructor);o||(o=new CSSStyleSheet,o.replaceSync(t.css()),ht.set(t.constructor,o)),t.shadowRoot.adoptedStyleSheets=[o]}let _=t.html();t.vdom=_.constructor===void 0||Array.isArray(_),t.vdom?(t.css&&!document.adoptedStyleSheets&&(_=[_,$`<style>${t.css()}</style>`]),F(_,t.shadowRoot)):typeof _=="string"?(t.css&&!document.adoptedStyleSheets&&(_+=`<style>${t.css()}</style>`),t.shadowRoot.innerHTML=_):_ instanceof Node&&(t.css&&!document.adoptedStyleSheets&&(t.shadowRoot.innerHTML=`<style>${t.css()}</style>`),_.tagName==="TEMPLATE"&&(_=_.content.cloneNode(!0)),t.shadowRoot.append(_));let i={"":t.shadowRoot,Host:t,Window:window,Document:document,Body:document.body};for(let o of n){let u=o.match(/^\$(.*?)_([^_]+)$/);if(u){let a=i[u[1]]??t.shadowRoot.querySelector(`#${u[1]}`);if(a)a.addEventListener(u[2],t[o]);else throw`kit.js\u30A4\u30D9\u30F3\u30C8\u767B\u9332\u30A8\u30E9\u30FC\uFF1A ${t.constructor.name}.${u[0]} \u306E\u767B\u9332\u5148\u304C\u5B58\u5728\u3057\u307E\u305B\u3093`}}}}function bt(t,e){return this.shadowRoot.querySelector(`#${e}`)}function kt(t,e,[n]){if(typeof n=="string")return n.startsWith("*")?Array.from(this.shadowRoot.querySelectorAll(n.substring(1)||"*")):this.shadowRoot.querySelector(n);typeof n=="object"&&(Object.assign(this,n),q(this))}q.ready=async function(t=document){let e=new Set;t.querySelectorAll(":not(:defined)").forEach(n=>e.add(n.localName)),await Promise.all(Array.from(e).map(n=>customElements.whenDefined(n))),t.dispatchEvent(new CustomEvent("kitready",{bubbles:!0,composed:!0}))};var Ct=q;export{Ct as default};
